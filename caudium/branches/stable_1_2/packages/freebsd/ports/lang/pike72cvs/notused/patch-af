--- modules/_Image_TTF/configure.in.orig	Thu Mar 28 23:33:18 2002
+++ modules/_Image_TTF/configure.in	Thu Mar 28 23:40:30 2002
@@ -8,7 +8,7 @@
 AC_MODULE_INIT()
 
 if test x$with_ttflib = xyes ; then
-  AC_CHECK_HEADERS(freetype.h ftxkern.h freetype/freetype.h freetype/ftxkern.h)
+  AC_CHECK_HEADERS(freetype.h ftxkern.h freetype/freetype.h freetype/ftxkern.h freetype1/freetype/freetype.h freetype1/freetype/ftxkern.h)
 
   parent="$ac_cv_header_ftxkern_h$ac_cv_header_freetype_h"
   subdir="$ac_cv_header_freetype_ftxkern_h$ac_cv_header_freetype_freetype_h"
@@ -22,10 +22,14 @@
     AC_MSG_CHECKING([if TT_Horizontal_Header has the member Reserved0])
     AC_CACHE_VAL(pike_cv_tt_hh_reserved0, [
       AC_TRY_COMPILE([
+#ifdef HAVE_FREETYPE1_FREETYPE_FREETYPE_H
+#include <freetype1/freetype.h>
+#else
 #ifdef HAVE_FREETYPE_FREETYPE_H
 #include <freetype/freetype.h>
 #else
 #include <freetype.h>
+#endif
 #endif
       ],[
   extern TT_Horizontal_Header *horiz;
